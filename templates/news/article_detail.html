<!-- templates/news/article_detail.html -->
{% extends "base.html" %}

{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-10">
    <div class="card shadow-sm rounded p-4 p-md-5">
      <article>
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <!-- ... (social share links) ... -->
            </div>
            <div>
                {% if user.is_authenticated %}
                    <!-- Check if user has saved this article -->
                    {% with is_saved=user.saved_articles.filter(article=article).exists %}
                        <form action="{% url 'toggle-save' article.pk %}" method="POST" class="d-inline">
                            {% csrf_token %}
                            {% if is_saved %}
                                <button type="submit" class="btn btn-success rounded-pill">
                                    <i class="bi bi-bookmark-check-fill"></i> Saved
                                </button>
                            {% else %}
                                <button type="submit" class="btn btn-outline-success rounded-pill">
                                    <i class="bi bi-bookmark-plus"></i> Save for Later
                                </button>
                            {% endif %}
                        </form>
                    {% endwith %}
                {% endif %}
            </div>
        </div>
      </article>
    </div>
  </div>
</div>
{% endblock %}